---
layout: default
title: States_And_Modes_GeneratedConfiguration_MDD
nav_order: 4
parent: State and Modes
---
{% raw %}
# Module -- Configuration [module----configuration]

# High-Level Description

Design of State and Modes configuration data. Generic design for all
projects

# Figures

## Component Diagram 

None, files are generated by Configurator.

#  Variable Data Dictionary

| Module Inputs                        | Module Outputs |
|--------------------------------------|----------------|
| CTerm_Cnt_lgc                        |                |
| ATerm_Cnt_lgc                        |                |
| FTerm_Cnt_lgc                        |                |
| RampStatusComplete_Cnt_lgc           |                |
| ControlledDampStatusComplete_Cnt_lgc |                |
| TMFTestComplete_Cnt_lgc              |                |

###  [section]

## Module Internal Variables

<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 8%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 6%" />
<col style="width: 44%" />
</colgroup>
<thead>
<tr class="header">
<th>Variable Name</th>
<th>DataType</th>
<th>Resolution</th>
<th><p>Legal Range</p>
<p>(min)</p></th>
<th><p>Legal Range</p>
<p>(max)</p></th>
<th>Multiplicity</th>
<th>Software Segment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>StTrnsVctr_Cnt_D_b08</td>
<td>Bitfield8</td>
<td><p>uint8:</p>
<p>Bit0:F</p>
<p>Bit1:C</p>
<p>Bit2:M</p>
<p>Bit3:A</p></td>
<td>FULL</td>
<td>FULL</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_CLEARED_8</td>
</tr>
<tr class="even">
<td>WarmInitMilestoneRqst_Cnt_M_u32</td>
<td>Uint32</td>
<td>1</td>
<td>0</td>
<td>FULL</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_CLEARED_32</td>
</tr>
<tr class="odd">
<td>WarmInitMilestoneRqst#_Cnt_M_u32</td>
<td>Uint32</td>
<td>1</td>
<td>0</td>
<td>FULL</td>
<td>0:n</td>
<td>STAMD#_START_SEC_VAR_CLEARED_32</td>
</tr>
<tr class="even">
<td>EcuResetActive_Cnt_M_lgc</td>
<td>boolean</td>
<td>N/A</td>
<td>FALSE</td>
<td>TRUE</td>
<td><u>1:1</u></td>
<td><u>STAMD#_START_SEC_VAR_CLEARED_BOOLEAN</u></td>
</tr>
<tr class="odd">
<td>FinalNvMWriteInProgress_Cnt_M_lgc</td>
<td>boolean</td>
<td>N/A</td>
<td>FALSE</td>
<td>TRUE</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_CLEARED_BOOLEAN</td>
</tr>
<tr class="even">
<td>StopTODPerOperation_Cnt_M_lgc</td>
<td>boolean</td>
<td>N/A</td>
<td>FALSE</td>
<td>TRUE</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_CLEARED_BOOLEAN</td>
</tr>
<tr class="odd">
<td>TODState_Cnt_M_lgc</td>
<td>boolean</td>
<td>N/A</td>
<td>FALSE</td>
<td>TRUE</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_CLEARED_BOOLEAN</td>
</tr>
<tr class="even">
<td>TransitionComplete_Cnt_M_lgc</td>
<td>N/A</td>
<td>FALSE</td>
<td>TRUE</td>
<td>N/A</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_CLEARED_BOOLEAN</td>
</tr>
<tr class="odd">
<td>SystemState_Cnt_M_enum</td>
<td>Rte_ModeType_StaMd_Mode</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_INIT_UNSPECIFIED</td>
</tr>
<tr class="even">
<td>SystemState#_Cnt_M_enum</td>
<td>Rte_ModeType_StaMd_Mode</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>0:n</td>
<td>STAMD#_START_SEC_VAR_INIT_UNSPECIFIED</td>
</tr>
<tr class="odd">
<td>SysCSystemState_Cnt_M_enum</td>
<td>Rte_ModeType_StaMd_Mode</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_INIT_UNSPECIFIED</td>
</tr>
<tr class="even">
<td><u>Lnk_TypeH#_Start</u></td>
<td>uint8</td>
<td>1</td>
<td>0</td>
<td>FULL</td>
<td>0:n</td>
<td>AP_STAMD_CONST</td>
</tr>
<tr class="odd">
<td><u>Lnk_TypeH#_Size</u></td>
<td>Const uint32 pointer</td>
<td>1</td>
<td>0</td>
<td>8192</td>
<td>0:n</td>
<td>AP_STAMD_CONST</td>
</tr>
<tr class="even">
<td>StaMdsSysCFltCntr_Cnt_M_u16</td>
<td>Uint16</td>
<td>1</td>
<td>0</td>
<td>FULL</td>
<td>1:1</td>
<td>STAMD#_START_SEC_VAR_CLEARED_16</td>
</tr>
</tbody>
</table>

Note “#” denotes the application number. It can be any value =1 to n.
Check project configuration files under UTP/Contract folder

### User defined typedef definition/declaration 

<table>
<colgroup>
<col style="width: 37%" />
<col style="width: 24%" />
<col style="width: 16%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="header">
<th>Typedef Name</th>
<th>Element Name</th>
<th>User Defined Type</th>
<th><p>Legal Range</p>
<p>(min)</p></th>
<th><p>Legal Range</p>
<p>(max)</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Rte_ModeType_StaMd_Mode</td>
<td><p>RTE_MODE_StaMd_Mode_DISABLE</p>
<p>RTE_MODE_StaMd_Mode_OFF</p>
<p>RTE_MODE_StaMd_Mode_OPERATE</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT</p>
<p>RTE_TRANSITION_StaMd_Mode</p></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
</tbody>
</table>

# Constant Data Dictionary

## Calibration Constants

| Constant Name            |
|--------------------------|
| k_StaMdsSysCDiag_Cnt_str |

##  [section-1]

## Program(fixed) Constants

### Embedded Constants

#### Local

| Constant Name | Resolution | Units | Value |
|---------------|------------|-------|-------|

#### Global

| Constant Name            |
|--------------------------|
| BC_STAMD_SYSCHKINCOREAPP |

### Module specific Lookup Tables Constants

<table style="width:100%;">
<colgroup>
<col style="width: 32%" />
<col style="width: 11%" />
<col style="width: 40%" />
<col style="width: 16%" />
</colgroup>
<thead>
<tr class="header">
<th>Constant Name</th>
<th>Resolution</th>
<th>Value</th>
<th>Software Segment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Rte_ModeType_StaMd_Mode t_StateLkpTbl_Cnt_u8
[D_STATELKPSTATES_CNT_U16] [D_STATELKPVCTRS_CNT_U16]</td>
<td>N/A</td>
<td><p>{ {RTE_MODE_StaMd_Mode_OFF,</p>
<blockquote>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_ DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_ DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_ WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_ DISABLE },</p>
</blockquote>
<p>{RTE_MODE_StaMd_Mode_OFF,</p>
<blockquote>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_OFF,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT},</p>
</blockquote>
<p>{RTE_MODE_StaMd_Mode_OPERATE,</p>
<blockquote>
<p>RTE_MODE_StaMd_Mode_OPERATE,</p>
<p>RTE_MODE_StaMd_Mode_OPERATE,</p>
<p>RTE_MODE_StaMd_Mode_OPERATE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_OPERATE,</p>
<p>RTE_MODE_StaMd_Mode_OPERATE,</p>
<p>RTE_MODE_StaMd_Mode_OPERATE,</p>
<p>RTE_MODE_StaMd_Mode_OPERATE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE},</p>
</blockquote>
<p>{RTE_MODE_StaMd_Mode_DISABLE,</p>
<blockquote>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_WARMINIT,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE,</p>
<p>RTE_MODE_StaMd_Mode_OPERATE,</p>
<p>RTE_MODE_StaMd_Mode_DISABLE}</p>
</blockquote>
<p>}</p></td>
<td>CONST_UNSPECIFIED</td>
</tr>
<tr class="even">
<td>T_CurrentSystemState_Ptr_enum[ *SIZE]</td>
<td>N/A</td>
<td><p>{&amp;SystemState#_Cnt_M_enum,</p>
<p>}</p></td>
<td>AP_STAMD_CONST</td>
</tr>
<tr class="odd">
<td>T_TypeHInfo_Cnt_Str[ *SIZE]</td>
<td>TypeHInfoType_Str</td>
<td><p>{ {&amp;Lnk_TypeH#_Start, &amp;Lnk_TypeH#_Size},</p>
<p>}</p></td>
<td>AP_STAMD_CONST</td>
</tr>
<tr class="even">
<td>T_WarmInitMilestoneRqst_Ptr_enum[*SIZE]</td>
<td>N/A</td>
<td><p>{ &amp;WarmInitMilestoneRqst#_Cnt_M_u32,</p>
<p>}</p></td>
<td>AP_STAMD_CONST</td>
</tr>
</tbody>
</table>

**Note:** The entries in the state lookup table rely on the fact that
generated values for the system state are maintained. If the generated
values are changed then the entries have to re arranged.

Note: \* SIZE for above tables varies across projects.Check Project
configuration files for size and elements of tables.**.**

**  
**

# Functions/Macros used by the Sub-Modules 

## Library Functions / Macros 

The library functions / Macros that are called by the various sub
modules are identified below,

1.  

## Data Hiding Functions

None

## Global Functions/Macros Defined by this Module

### Process WarmInit Milestone Complete

| **Function Name**    | MilestoneRqst#\_WarmInitMilestoneComplete | Type        | Min | Max |
|--------------|-------------------------------|------------|--------|--------|
| **Arguments Passed** | user                                      | StaMd_Users | 0   | 31  |
| **Return Value**     | None                                      |             |     |     |

#### Description

![](ElectricPowerSteering_TexasInstruments_HAITEC_LC_website/docs/StaMd/doc/mediax/media/image1.emf)

### Process WarmInit Milestone Not Complete

| **Function Name**    | MilestoneRqst#\_WarmInitMilestoneNotComplete | Type        | Min | Max |
|--------------|-------------------------------|------------|--------|--------|
| **Arguments Passed** | user                                         | StaMd_Users | 0   | 31  |
| **Return Value**     | None                                         |             |     |     |

#### Description

![](ElectricPowerSteering_TexasInstruments_HAITEC_LC_website/docs/StaMd/doc/mediax/media/image2.emf)

### States and Modes Transition Function

| **Function Name**    | StaMd#\_Trns_DemShutdown | Type | Min | Max |
|----------------------|--------------------------|------|-----|-----|
| **Multiplicity**     | 0 : 1                    |      |     |     |
| **Arguments Passed** | none                     |      |     |     |
| **Return Value**     | None                     |      |     |     |

#### Description

Rte_Call_DiagMgr_StaCtrl_Shutdown

### States and Modes Initialization

NONE

#### Description

### States and Modes Periodic

| **Function Name**    | StaMd#\_Per1 | Type | Min | Max |
|----------------------|--------------|------|-----|-----|
| **Multiplicity**     | 0 : n        |      |     |     |
| **Arguments Passed** | none         |      |     |     |
| **Return Value**     | None         |      |     |     |

#### Description

![](ElectricPowerSteering_TexasInstruments_HAITEC_LC_website/docs/StaMd/doc/mediax/media/image3.emf)

####  [section-2]

## Local Functions/Macros Used by this MDD only

###  Macro Function \#1

SetBits_m(var, mask) : var = var \| mask

### Macro Function \#2

ClrBits_m(var, mask) : var = var & mask

### Local Function \#1

NONE

#  Software Module Implementation

## Initial Data Values

| Data          | Value           |
|---------------|-----------------|
| CTerm_Cnt_lgc | D_FALSE_CNT_LGC |
| ATerm_Cnt_lgc | D_TRUE_CNT_LGC  |
| FTerm_Cnt_lgc | D_FALSE_CNT_LGC |

## Initialization Functions

### Init: 

## Periodic Functions

## Fault Recovery Functions

None

## Shutdown Functions

None

## Interrupt Functions

None

## Serial Communication Functions

## Execution Requirements

## Execution Sequence of the Module

## \_Init1 needs to RUN prior to any function that requires the use of TypeH data.Execution Rates for sub-modules called by the Scheduler [init1-needs-to-run-prior-to-any-function-that-requires-the-use-of-typeh-data.execution-rates-for-sub-modules-called-by-the-scheduler]

| Function Name | Calling Frequency | System State(s) in which the function is called |
|----------------------------|-----------------|----------------------------|
|               |                   |                                                 |
|               |                   |                                                 |
|               |                   |                                                 |

## Execution Requirements for Serial Communication Functions 

| Function Name | Sub-Module called by (Serial Comm Function Name) |
|---------------|--------------------------------------------------|
|               |                                                  |

#  [section-3]

#  Memory Map Definition Requirements

## Sub Modules (Functions)

This table identifies the software segments for functions identified in
this module.

| Name of Sub Module | Software Segment |
|--------------------|------------------|
|                    |                  |
|                    |                  |
|                    |                  |
|                    |                  |

##  [section-4]

## Global and Local Functions

This table identifies the software segments for global and local
functions identified in this module.

| Name of Sub Module                           | Software Segment       |
|----------------------------------------------|------------------------|
| MilestoneRqst#\_WarmInitMilestoneComplete    | RTE_AP_STAMD_APPL_CODE |
| MilestoneRqst#\_WarmInitMilestoneNotComplete | RTE_AP_STAMD_APPL_CODE |
| StaMd#\_Per1                                 | RTE_AP_STAMD_APPL_CODE |

#  [section-5]

#  Known Issues / Limitations With Design

#  Revision Control Log

| **Item \#** | **Rev \#** | **Change Description** | **Date**   | **Author Initials** |
|-------|-------|-----------------------------------|------------|-----------|
| 1           | 1          | Initial version.       | 18-June-13 | NRAR                |

{% endraw %}